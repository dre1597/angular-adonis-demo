<app-form-card title="Reset Password">
  <form [formGroup]="form" body>
    <span class="p-float-label">
      <input
        [feedback]="false"
        [ngClass]="
          password?.invalid && (password?.dirty || password?.touched)
            ? 'ng-invalid ng-dirty'
            : ''
        "
        class="w-full"
        formControlName="password"
        id="password"
        pPassword
        type="password"
      />
      <label for="password">Password</label>
    </span>

    <div *ngIf="password?.invalid && (password?.dirty || password?.touched)">
      <small
        *ngIf="password?.errors?.['required']"
        class="p-error"
        id="required-password"
      >
        Password is required.
      </small>
      <small
        *ngIf="password?.errors?.['minlength']"
        class="p-error"
        id="minlength-password"
      >
        Password must be at least 6 characters.
      </small>
      <small
        *ngIf="password?.errors?.['maxlength']"
        class="p-error"
        id="maxlength-password"
      >
        Password must be at most 24 characters.
      </small>
    </div>

    <span class="p-float-label mt-4">
      <input
        [feedback]="false"
        [ngClass]="
          confirmPassword?.invalid &&
          (confirmPassword?.dirty || confirmPassword?.touched)
            ? 'ng-invalid ng-dirty'
            : ''
        "
        class="w-full"
        formControlName="confirmPassword"
        id="confirmPassword"
        pPassword
        type="password"
      />
      <label for="confirmPassword">Confirm Password</label>
    </span>

    <div
      *ngIf="
        confirmPassword?.invalid &&
        (confirmPassword?.dirty || confirmPassword?.touched)
      "
    >
      <small
        *ngIf="confirmPassword?.errors?.['required']"
        class="p-error"
        id="required-confirmPassword"
      >
        Confirm password is required.
      </small>
      <small
        *ngIf="confirmPassword?.errors?.['minlength']"
        class="p-error"
        id="minlength-confirmPassword"
      >
        Confirm password must be at least 6 characters.
      </small>
      <small
        *ngIf="confirmPassword?.errors?.['maxlength']"
        class="p-error"
        id="maxlength-confirmPassword"
      >
        Confirm password must be at most 24 characters.
      </small>
    </div>
  </form>

  <p-button
    (click)="submitForm()"
    [disabled]="!form.valid"
    footer
    icon="pi pi-check"
    label="Submit"
    type="button"
  />
  <p-button
    footer
    icon="pi pi-arrow-right"
    iconPos="right"
    label="Create Account"
    routerLink="/signup"
    type="button"
  />
  <p-button
    footer
    icon="pi pi-arrow-right"
    iconPos="right"
    label="Login"
    routerLink="/login"
    type="button"
  />
</app-form-card>
